
<html>
<head>
	<link rel="stylesheet" href="/style.css">
	<title>CodeHS Trail</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

	<script type="text/javascript" src="https://static.codehs.com/gulp/a207eaf74c9a65ef1504f82657de97532616341f/chs-js-lib/chs.js"></script>


<style>
canvas {
    border: 1px solid black;
    display: inline-block;
    vertical-align: top;
}
</style>

</head>

<body>

<canvas width="400" height="500" class="codehs-editor-canvas"></canvas>

<script>
window.onload = function() {

    var MAX_BOUNCES = 20;

	var ball;
	var dx = 4;
	var dy = 4;

	var counter = 0;
	/* This program has a ball bounce around the screen. 
	* It's path is drawn by drawing different colored balls everywhere it goes.
	*/
	function start(){
		ball = new Circle(20);
		ball.setPosition(100, 100);
		add(ball);
	
		setTimer(draw, 20);
	}

	function draw(){
		trail();
		checkWalls();
		ball.move(dx, dy);
	
		// Ball will stop after bouncing MAX_BOUNCES of times
		if (counter == MAX_BOUNCES){
			stopTimer(draw);
		}
	}

	function trail(){
		var trail = new Circle (ball.getRadius() / 2);
		trail.setColor(Color.cyan);
		trail.setPosition(ball.getX(), ball.getY());
		add(trail);
	}

	function checkWalls(){
		// Bounce off right wall
		if(ball.getX() + ball.getRadius() > getWidth()){
			dx = -dx;
			counter++;
		}
	
		// Bounce off left wall
		if(ball.getX() - ball.getRadius() < 0){
			dx = -dx;
			counter++;
		}
	
		// Bounce off bottom wall
		if(ball.getY() + ball.getRadius() > getHeight()){
			dy = -dy;
			counter++;
		}
	
		// Bounce off top wall
		if(ball.getY() - ball.getRadius() < 0){
			dy = -dy;
			counter++;
		}
	}

    if (typeof start === 'function') {
        start();
    }
};
</script>

</body>
</html>
